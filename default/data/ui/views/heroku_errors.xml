<form>
  <label>heroku errors</label>
  <fieldset autoRun="true" submitButton="false">
    <input type="time" searchWhenChanged="true">
    </input>
  </fieldset>
  <row>
    <panel>
      <table>
        <title>basic delayed job stats</title>
        <searchString>index=heroku jobs processed at"
  | rex "app (?&lt;dyno&gt;\w+\.\d+) -" 
  | regex dyno="worker"
  | rex "(?&lt;completed&gt;\d+) jobs processed at (?&lt;per_second&gt;\d+(.\d+)?) j/s, (?&lt;failed&gt;\d+) failed ..."
  | eval jobs_completed=tonumber(completed) 
  | eval jobs_per_second=tonumber(per_second) 
  | eval jobs_failed=tonumber(failed) 
  | eval jobs_count=jobs_completed + jobs_failed
  | eval jobs_avg_runtime=jobs_per_second/jobs_count
  | timechart span=3h sum(jobs_count) as "# jobs"
                    , sum(jobs_failed) as "# failed"
                    , perc95(jobs_avg_runtime) as "95th run-time"
                    , avg(jobs_avg_runtime) as "avg run-time"</searchString>
        <earliestTime/>
        <latestTime/>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <table>
        <title>generic errors (client and server)</title>
        <searchString>index=heroku at=error | timechart span="1hr" count by desc</searchString>
        <earliestTime/>
        <latestTime/>
      </table>
    </panel>
  </row>
    <row>
    <panel>
      <table>
        <title>generic errors (server only)</title>
        <searchString>at=index=heroku error | regex source!="client" | timechart span="1hr" count by desc</searchString>
        <earliestTime/>
        <latestTime/>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <table>
        <title>memory quota errors</title>
        <searchString>index=heroku R14 OR R15 | stats count by date</searchString>
        <earliestTime/>
        <latestTime/>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <table>
        <title>request timeouts by hour</title>
        <searchString>index=heroku code=H12 | timechart span="1hr" count by desc</searchString>
        <earliestTime/>
        <latestTime/>
      </table>
    </panel>
  </row>
</form>